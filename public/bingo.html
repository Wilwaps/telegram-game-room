<!DOCTYPE html>
<html class="dark" lang="es">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Bingo • Telegram Game Room</title>
  <link href="https://fonts.googleapis.com" rel="preconnect"/>
  <link crossorigin href="https://fonts.gstatic.com" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script id="tailwind-config">
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#06e4f9',
            'background-light': '#f5f8f8',
            'background-dark': '#0B0E14',
            violet: '#a78bfa',
            accent: '#22d3ee',
            card: '#121A2B',
            panel: '#0F1524',
            text: '#E6EDF3',
            glass: 'rgba(255,255,255,0.1)',
            danger: '#EF4444',
          },
          fontFamily: { display: ['Space Grotesk'] },
          borderRadius: { DEFAULT: '0.5rem', lg: '0.75rem', xl: '1rem', full: '9999px' },
          boxShadow: {
            fire: '0 0 15px 5px rgba(255, 165, 0, 0.6), 0 0 25px 10px rgba(255, 255, 0, 0.4)',
            'neon-violet': '0 0 10px #a78bfa, 0 0 20px #a78bfa, 0 0 30px #a78bfa',
            'neon-accent': '0 0 10px #22d3ee, 0 0 20px #22d3ee, 0 0 30px #22d3ee',
            'neon-gold': '0 0 5px #facc15, 0 0 10px #facc15, 0 0 15px #facc15'
          }
        }
      }
    }
  </script>
  <style>
    body { min-height: max(884px, 100dvh); }
    .nav-item:hover { background-color: var(--tw-bg-accent); color: var(--tw-bg-background-dark); }
    .nav-item { transition: background-color 0.2s, color 0.2s; }
    .nav-item .material-symbols-outlined { display:block; margin:0 auto 0.25rem; }
  </style>
</head>
<body class="bg-background-dark font-display text-text">
<div class="flex flex-col min-h-screen">
  <main class="flex-1 p-4 pb-24">
    <h1 class="text-3xl font-bold text-center mb-8 text-accent">Bingo</h1>

    <section class="space-y-6">
      <div class="bg-panel rounded-xl border border-glass p-4">
        <h2 class="text-xl font-bold mb-4 text-center">Salas Activas</h2>
        <div id="activeCard" class="bg-card rounded-lg p-4 flex items-center justify-between hidden">
          <p class="text-text">Regresa a tu sala</p>
          <p id="countdown" class="text-danger font-bold text-lg" style="text-shadow: 0 0 8px #EF4444;">00:30 seg</p>
        </div>
        <div class="mt-4 flex items-center gap-2">
          <input id="codeInput" class="flex-grow bg-card border border-glass rounded-lg px-3 py-2 text-text placeholder-text/50 focus:outline-none focus:ring-2 focus:ring-accent" placeholder="Código de sala" type="text"/>
          <button id="joinCodeBtn" class="bg-accent/80 text-background-dark font-bold py-2 px-4 rounded-lg shadow-[0_0_10px_rgba(34,211,238,0.5)] hover:bg-accent transition-all duration-300">Unirme</button>
        </div>
      </div>

      <div class="bg-panel rounded-xl border border-glass p-4">
        <h2 class="text-xl font-bold mb-4 text-center">Salas Creadas</h2>
        <div id="roomsList" class="space-y-4"></div>
      </div>

      <div class="bg-panel rounded-xl border border-glass p-4">
        <h2 class="text-xl font-bold mb-4 text-center">Salas Públicas</h2>
        <div id="publicRoomsList" class="space-y-4"></div>
      </div>
    </section>
  </main>

  <nav class="fixed bottom-0 left-0 right-0 bg-card border-t border-glass px-2 py-1">
    <div class="flex justify-around text-xs text-center text-text/80">
      <a class="nav-item flex-1 p-2 rounded-lg" href="/profile" style="--tw-bg-accent: #22d3ee; --tw-bg-background-dark: #0B0E14;">
        <span class="material-symbols-outlined">person</span>
        <span>Perfil</span>
      </a>
      <a class="nav-item flex-1 p-2 rounded-lg" href="#" style="--tw-bg-accent: #22d3ee; --tw-bg-background-dark: #0B0E14;">
        <span class="material-symbols-outlined">door_open</span>
        <span>Lobby</span>
      </a>
      <a class="nav-item flex-1 p-2 rounded-lg bg-orange-500/20 shadow-fire text-orange-400" href="/games" style="--tw-bg-accent: #22d3ee; --tw-bg-background-dark: #0B0E14;">
        <span class="material-symbols-outlined">sports_esports</span>
        <span>Juegos</span>
      </a>
      <a class="nav-item flex-1 p-2 rounded-lg" href="#" style="--tw-bg-accent: #22d3ee; --tw-bg-background-dark: #0B0E14;">
        <span class="material-symbols-outlined">confirmation_number</span>
        <span>Rifas</span>
      </a>
      <a class="nav-item flex-1 p-2 rounded-lg" href="#" style="--tw-bg-accent: #a78bfa; --tw-bg-background-dark: #0B0E14;">
        <span class="material-symbols-outlined" style="color: inherit">storefront</span>
        <span class="text-xs">Mercado</span>
      </a>
      <a class="nav-item flex-1 p-2 rounded-lg" href="#" style="--tw-bg-accent: #a78bfa; --tw-bg-background-dark: #0B0E14;">
        <span class="material-symbols-outlined">groups</span>
        <span>Rol</span>
      </a>
      <a class="nav-item flex-1 p-2 rounded-lg" href="#" style="--tw-bg-accent: #a78bfa; --tw-bg-background-dark: #0B0E14;">
        <span class="material-symbols-outlined">schedule</span>
        <span>Próximo</span>
      </a>
    </div>
  </nav>
</div>

<!-- FAB crear sala -->
<button id="fabCreate" class="fixed bottom-24 right-4 bg-yellow-400 text-background-dark p-4 rounded-full shadow-[0_0_10px_#facc15,0_0_20px_#facc15] hover:bg-yellow-300 transition-all duration-300 transform hover:scale-105 z-30">
  <span class="material-symbols-outlined text-3xl">add</span>
  <span class="sr-only">Crear sala</span>
</button>

<script>
  // TODO: Implementar llamadas a /api/games/bingo: my-rooms, public-rooms, create, join-code, etc.
  document.getElementById('fabCreate')?.addEventListener('click', () => {
    alert('Crear sala de Bingo (WIP)');
  });
</script>
</body>
</html>
